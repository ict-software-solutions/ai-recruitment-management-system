<div id="profile" class="page-layout carded fullwidth inner-scroll">
    <div class="ex-1">
       
        <div class="center">

           
            <div class="content-card" style="height: 700px !important;">
               

                <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row"
                    style="margin-left:10px;margin-top:10px;margin-right:10px;">

                    <form class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
                        fxFlex="1 0 auto" name="form" [formGroup]="form">

                        <header class="accent" style="height: 54px;font-size: bold;font-size: 17px; padding: 16px;">
                            <div class="title">
                                <img class="profile-image avatar" src="assets/images/avatars/Nancy.jpg" style="    margin: -7px 8px -10px -7px;">
<span style="    margin-left: -32px;">
    <button mat-icon-button color="primary">
                    <mat-icon>local_see</mat-icon>
                </button>
</span>
<span>
    <label for="file-upload" class="custom-file-upload">
    </label>
    <input id="file-upload" type="file" (input)="uploadFile($event)" style="  
    width: 27px;
    height: 19px;
    margin-left: -45px;
    margin-top: 4px;
    opacity: 0;" >
</span>
<span style="margin-left: 12px;">My Profile</span>
                                    <span style="font-size:11px;padding-left: 46px;">  Last Login: {{lastLogin}}</span>
                                    <span> 
                            <button mat-icon-button color="light"(click)="Edit()" *ngIf="!enableEdit"style="float: right;" >
                                <mat-icon style="line-height: 13px;">edit</mat-icon>
                            </button></span>
                            <button mat-raised-button color="light"  *ngIf="enableEdit"
                            class="submit-button" style="margin-right:-5px;width: 100px; float: right;margin-top: -7px;" (click)="updateProfile(form.value)" >Save</button>
                                <button mat-raised-button color="light" (click)="Edit()" *ngIf="enableEdit" 
                                class="submit-button" style="margin-right:10px;width: 100px; float: right;margin-top: -7px;" (click)="canceledit()">Cancel</button>
                            </div>
                         
                        </header>
                       
                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto" style="margin-top: 20px;">

                            <mat-form-field appearance="outline" fxFlex="33" class="pr-4">
                                <mat-label>First Name</mat-label>
                                <input matInput type="text" ngModel formControlName="firstName" type="text" [readonly]="viewMode">
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                <!-- <mat-error>First Name is required!</mat-error> -->
                            </mat-form-field>
                            <mat-form-field appearance="outline" fxFlex="34" class="pr-4">
                                <mat-label>Middle Name</mat-label>
                                <input matInput type="text" ngModel formControlName="middleName" type="text" [readonly]="viewMode">
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                <!-- <mat-error>First Name is required!</mat-error> -->
                            </mat-form-field>
                            <mat-form-field appearance="outline" fxFlex="34">
                                <mat-label>Last name</mat-label>
                                <input matInput type="text" formControlName="lastName" [readonly]="viewMode">
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                <!-- <mat-error>Last Name is required!</mat-error> -->
                            </mat-form-field>

                        </div>
                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

                            <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                                <mat-label>Email <span style="color: green;"><mat-icon>check_circle</mat-icon></span></mat-label>
                                <input matInput type="email" formControlName="emailAddress" [readonly]="viewMode">
                                <mat-icon matSuffix class="secondary-text">mail</mat-icon>
                                <!-- <mat-error>Email is required!</mat-error> -->
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                                <mat-label>Mobile <span style="color:red"><mat-icon>error_outline</mat-icon></span></mat-label>
                                <input matInput type="tel" formControlName="mobile" [readonly]="viewMode">
                                <mat-icon matSuffix class="secondary-text">call</mat-icon >
                                <!-- <mat-error>Mobile is required!</mat-error> -->
                            </mat-form-field>
                        </div>
                           

                        
                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                                <mat-label>Company Name</mat-label>
                                <input matInput type="text" formControlName="companyname"  [readonly]="viewMode">
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>
                            <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                                <mat-label>Position</mat-label>
                                <input matInput type="text" formControlName="position" [readonly]="viewMode">
                                <mat-icon matSuffix class="secondary-text">work_outline</mat-icon>
                            </mat-form-field>

                        </div>
                       
                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">

                            <mat-form-field appearance="outline" fxFlex="100" style="height: 70px;padding: -1em 0 1em 0;">Address
                                <textarea matInput formControlName="address"  [readonly]="viewMode" style="    height: 15px;">
                            Flat No 5,%th Avenue,Cambridge
                        </textarea>
                            </mat-form-field>
                            
                           

                        </div>
                        <div></div>
                        <br>

                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

                            <mat-form-field appearance="outline" fxFlex="25">
                                <mat-label>Postal Code</mat-label>
                                <input matInput type="tel" #postalcode value="94043" formControlName="postalcode"
                                    maxlength="5"  [readonly]="viewMode">
                                <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>

                            </mat-form-field>
                            <mat-form-field appearance="outline" fxFlex="25" class="px-8">
                                <mat-label>City</mat-label>
                                <input matInput type="text" formControlName="city" [readonly]="viewMode">
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="25" class="px-8">
                                <mat-label>State</mat-label>
                                <input matInput type="text" formControlName="state" [readonly]="viewMode">
                              <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>
                            <mat-form-field appearance="outline" fxFlex="25">
                                <mat-label>Country</mat-label>
                                <input matInput type="text" formControlName="country" [readonly]="viewMode">
                                <mat-icon matSuffix class="secondary-text">flag</mat-icon>
                            </mat-form-field>

                        </div>
  
                        <br>

                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto" >
                            <div fxFlex="33">
                                <mat-checkbox (change)="changePassword($event.checked)"(click)="onValueChange()"  *ngIf="enableEdit" formControlName="check">Change
                                    Password</mat-checkbox>
                            </div>
                            <mat-form-field appearance="outline" fxFlex="34"*ngIf="showPasswordsection  && enableEdit">
                                <mat-label>Current Password</mat-label>
                                <input matInput type="password" [type]="hide ? 'password' : 'text'"
                                formControlName="password" required>
                                <mat-icon matSuffix class="secondary-text"  (click)="hide = !hide"> {{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                                <mat-error>
                                    Password is required
                                </mat-error>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="33" class="px-8"*ngIf="showPasswordsection && enableEdit">
                                <mat-label>New Password</mat-label>
                                <input matInput type="Password" [type]="hide1 ? 'password' : 'text'"
                                    formControlName="newPassword"
                                    pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*?/]).{8,15})" required>
                                <mat-icon matSuffix class="secondary-text" (click)="hide1 = !hide">
                                    {{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                <mat-error *ngIf="form.get('newPassword').hasError('required')">New password is required
                                </mat-error>
                                <mat-error *ngIf="form.get('newPassword').hasError('minlength')">Password too short!! Password should have a minimum of 8 characters.</mat-error>
                                <mat-error
                                    *ngIf="form.get('newPassword').hasError('pattern') && form.get('newPassword').value.length > 7">
                                    Make your password strong use(A-Z,a-z,0-9,(*@!?/)</mat-error>
                            </mat-form-field>
                          
                        </div>
                     
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>